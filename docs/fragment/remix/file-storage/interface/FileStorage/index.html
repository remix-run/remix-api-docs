<div><h1>FileStorage</h1>
<p><a href="https://github.com/remix-run/remix/blob/remix@3.0.0-alpha.2/packages/file-storage/src/lib/file-storage.ts#L4" target="_blank">View Source</a></p>
<h2>Summary</h2>
<p>A key/value interface for storing <code>File</code> objects.</p>
<h2>Signature</h2>
<pre class="shiki shiki-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">interface</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> FileStorage</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">  get</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">key</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> <a href="https://developer.mozilla.org/en-US/docs/Web/API/File" target="_blank">File</a></span><span style="color:#D73A49;--shiki-dark:#F97583"> |</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="color:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#B392F0"><a href="https://developer.mozilla.org/en-US/docs/Web/API/File" target="_blank">File</a></span><span style="color:#D73A49;--shiki-dark:#F97583"> |</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> null</span><span style="color:#24292E;--shiki-dark:#E1E4E8">> </span><span style="color:#D73A49;--shiki-dark:#F97583">|</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> null</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">  has</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">key</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="color:#D73A49;--shiki-dark:#F97583"> |</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="color:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#005CC5;--shiki-dark:#79B8FF">boolean</span><span style="color:#24292E;--shiki-dark:#E1E4E8">>;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">  list</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">options</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> T</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/remix/file-storage/interface/ListResult">ListResult</a></span><span style="color:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#B392F0">T</span><span style="color:#24292E;--shiki-dark:#E1E4E8">> </span><span style="color:#D73A49;--shiki-dark:#F97583">|</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="color:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#B392F0"><a href="/api/remix/file-storage/interface/ListResult">ListResult</a></span><span style="color:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#B392F0">T</span><span style="color:#24292E;--shiki-dark:#E1E4E8">>>;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">  put</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">key</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#E36209;--shiki-dark:#FFAB70">file</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> <a href="https://developer.mozilla.org/en-US/docs/Web/API/File" target="_blank">File</a></span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> <a href="https://developer.mozilla.org/en-US/docs/Web/API/File" target="_blank">File</a></span><span style="color:#D73A49;--shiki-dark:#F97583"> |</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="color:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#B392F0"><a href="https://developer.mozilla.org/en-US/docs/Web/API/File" target="_blank">File</a></span><span style="color:#24292E;--shiki-dark:#E1E4E8">>;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">  remove</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">key</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> void</span><span style="color:#D73A49;--shiki-dark:#F97583"> |</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="color:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#005CC5;--shiki-dark:#79B8FF">void</span><span style="color:#24292E;--shiki-dark:#E1E4E8">>;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">  set</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">key</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#E36209;--shiki-dark:#FFAB70">file</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> <a href="https://developer.mozilla.org/en-US/docs/Web/API/File" target="_blank">File</a></span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> void</span><span style="color:#D73A49;--shiki-dark:#F97583"> |</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="color:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#005CC5;--shiki-dark:#79B8FF">void</span><span style="color:#24292E;--shiki-dark:#E1E4E8">>;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span></code></pre><h2>Methods</h2>
<h3>get(key: string): File | Promise&lt;File | null&gt; | null</h3>
<p>Get a <a href="https://developer.mozilla.org/en-US/docs/Web/API/File"><code>File</code></a> at the given key.</p>
<h4>key</h4>
<p>The key to look up</p>
<h3>has(key: string): boolean | Promise<boolean></h3>
<p>Check if a file with the given key exists.</p>
<h4>key</h4>
<p>The key to look up</p>
<h3>list(options: T): ListResult<T> | Promise&lt;ListResult<T>&gt;</h3>
<p>List the files in storage.</p>
<p>The following <code>options</code> are available:</p>
<ul>
<li><code>cursor</code>: An opaque string that allows you to paginate over the keys in storage</li>
<li><code>includeMetadata</code>: If <code>true</code>, include file metadata in the result</li>
<li><code>limit</code>: The maximum number of files to return</li>
<li><code>prefix</code>: Only return keys that start with this string</li>
</ul>
<p>For example, to list all files under keys that start with <code>user123/</code>:</p>
<pre class="shiki shiki-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">let</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> result </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#D73A49;--shiki-dark:#F97583"> await</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> storage.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">list</span><span style="color:#24292E;--shiki-dark:#E1E4E8">({ prefix: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'user123/'</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">console.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(result.files);</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">// [</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">//   { key: "user123/..." },</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">//   { key: "user123/..." },</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">//   ...</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">// ]</span></span></code></pre><p><code>result.files</code> will be an array of <code>{ key: string }</code> objects. To include metadata about each
file, use <code>includeMetadata: true</code>.</p>
<pre class="shiki shiki-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">let</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> result </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#D73A49;--shiki-dark:#F97583"> await</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> storage.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">list</span><span style="color:#24292E;--shiki-dark:#E1E4E8">({ prefix: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'user123/'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, includeMetadata: </span><span style="color:#005CC5;--shiki-dark:#79B8FF">true</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">console.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(result.files);</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">// [</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">//   {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">//     key: "user123/...",</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">//     lastModified: 1737955705270,</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">//     name: "hello.txt",</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">//     size: 16,</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">//     type: "text/plain"</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">//   },</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">//   ...</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">// ]</span></span></code></pre><p>Pagination is done via an opaque <code>cursor</code> property in the list result object. If it is not
<code>undefined</code>, there are more files to list. You can list them by passing the <code>cursor</code> back in
the <code>options</code> object on the next call.</p>
<pre class="shiki shiki-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">let</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> result </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#D73A49;--shiki-dark:#F97583"> await</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> storage.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">list</span><span style="color:#24292E;--shiki-dark:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">console.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(result.files);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (result.cursor </span><span style="color:#D73A49;--shiki-dark:#F97583">!==</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  let</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> result2 </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#D73A49;--shiki-dark:#F97583"> await</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> storage.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">list</span><span style="color:#24292E;--shiki-dark:#E1E4E8">({ cursor: result.cursor });</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre><p>Use the <code>limit</code> option to limit how many results you get back in the <code>files</code> array.</p>
<h4>options</h4>
<p>Options for the list operation</p>
<h3>put(key: string, file: File): File | Promise<File></h3>
<p>Put a <a href="https://developer.mozilla.org/en-US/docs/Web/API/File"><code>File</code></a> in storage and return a
new file backed by this storage.</p>
<h4>key</h4>
<p>The key to store the file under</p>
<h4>file</h4>
<p>The file to store</p>
<h3>remove(key: string): void | Promise<void></h3>
<p>Remove the file with the given key from storage.</p>
<h4>key</h4>
<p>The key to remove</p>
<h3>set(key: string, file: File): void | Promise<void></h3>
<p>Put a <a href="https://developer.mozilla.org/en-US/docs/Web/API/File"><code>File</code></a> in storage at the given
key.</p>
<h4>key</h4>
<p>The key to store the file under</p>
<h4>file</h4>
<p>The file to store</p>
</div><!-- rmx:h:he26aacfb --><!-- /rmx:h --><script type="application/json" id="rmx-data">{"h":{"he26aacfb":{"moduleUrl":"/assets/client-router.js","exportName":"ClientRouter","props":{}}}}</script>